---
layout: default
title: CAN总线链路层
nav_enabled: true
parent: CAN总线开发
grand_parent: 嵌入式开发相关
nav_order: 1
---

链路层的功能是硬件完成的，软件需要做的是对硬件进行配置，然后链路层会自动完成其配置好的功能
## 1 对比认识
相比于RS232、RS485、RS422等总线，CAN总线的链路层比较复杂
例如，RS485总线的链路层只规定了以下几个参数
- 波特率
- 数据位
- 停止位
- 校验位
- 流控制

而CAN总线链路层实现的功能就比较多了包括
- 通讯模式：回环、正常等
- 波特率
- 帧同步，需要设置位时序，例如pbs1段和pbs2段的长度
- 仲裁机制，即防冲撞
- ID设置
- 接收筛选

与RS485总线不同的时，CAN总线的链路层并不规定数据位数，而是每一帧的数据位都可以设置，而接收方相应的在接收这一帧数据结束后进入中断
